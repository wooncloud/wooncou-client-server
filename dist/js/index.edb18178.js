(function(){var t={6547:function(t,e,a){"use strict";var s=a(144),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body-container"},[a("navLayout"),a("main",{staticClass:"main-container container"},[a("router-view")],1),a("footerLayout"),!0===t.$store.state.isLoading?a("loadingSpinner"):t._e()],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("nav",{staticClass:"navbar navbar-expand-lg bg-secondary text-uppercase fixed-top",attrs:{id:"mainNav"}},[a("div",{staticClass:"container"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"},on:{click:function(e){return t.onNavRouterHandler(e,t.main.name)}}},[a("div",{staticClass:"navbar-brand-wrap"},[a("div",{staticClass:"navbar-logo"}),a("div",[t._v(t._s(t.main.title))])])]),t._m(0),a("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbarResponsive"}},[a("ul",{staticClass:"navbar-nav ms-auto menu-list"},t._l(t.menus,(function(e,s){return a("li",{key:s,staticClass:"nav-item mx-0 mx-lg-1"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){return t.onNavRouterHandler(a,e.name)}}},[t._v(t._s(e.title))])])})),0),a("hr"),t._m(1)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded collapsed",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("i",{staticClass:"bi bi-list"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex"},[a("iframe",{attrs:{src:"https://coupa.ng/cctif9",width:"100%",height:"36",frameborder:"0",scrolling:"no",referrerpolicy:"unsafe-url"}})])}],l={name:"NavLayout",data:()=>({drawer:null,main:{title:"운쿠",name:"home"},menus:[{name:"posts",title:"추천목록 보기"},{name:"goldbox",title:"골드박스"},{name:"report",title:"문의"}],tags:[{id:"1",name:"마스크"},{id:"2",name:"생수"},{id:"3",name:"노트북"}],right:null,search:""}),methods:{onNavRouterHandler(t,e){t.preventDefault(),this.$router.push({name:e})},onSearchHandle(t){13===t.keyCode&&this.$router.replace({name:"posts",query:{search:this.search}})}}},c=l,d=a(3736),p=(0,d.Z)(c,o,r,!1,null,null,null),u=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-auto"},[a("footer",{staticClass:"footer py-3 bg-light"},[a("div",{staticClass:"container"},[t._m(0),a("div",[a("span",{staticClass:"text-muted"},[t._v("© "+t._s((new Date).getFullYear())+" wooncloud all rights reserved.")])])])])])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"text-muted"},[a("i",{staticClass:"bi bi-envelope-fill"}),t._v(" Email : wooncloud@hotmail.co.kr ")])])}],g={name:"FooterLayout",data:()=>({})},v=g,f=(0,d.Z)(v,m,h,!1,null,null,null),_=f.exports,b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading-container"},[a("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])])}],w={name:"LoadingSpinner"},x=w,k=(0,d.Z)(x,b,C,!1,null,null,null),y=k.exports,$={name:"App",data(){return{}},components:{navLayout:u,footerLayout:_,loadingSpinner:y}},L=$,I=(0,d.Z)(L,i,n,!1,null,null,null),S=I.exports,P=a(8345),E=a(9669),R=a.n(E),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-wrap",attrs:{id:"mainRecommend"}},[a("div",{staticClass:"carousel slide carousel-recommend",attrs:{id:"recommendCarousel","data-bs-ride":"carousel"}},[a("div",{staticClass:"carousel-inner"},t._l(t.mostView,(function(e,s){return a("div",{key:s,class:"carousel-item "+(0===s?"active":"")},[a("div",{staticClass:"carousel-caption d-none d-md-block",style:"background-image: url("+e.title_image+")"},[a("h5",[t._v(t._s(e.title))]),a("p",[t._v(t._s(e.content))])])])})),0),t._m(0),t._m(1)])]),a("div",{staticClass:"main-wrap",attrs:{id:"mainGoldbox"}},[a("div",{staticClass:"main-wrap-title"},[a("h1",[t._v("골드박스")]),a("input",{staticClass:"btn btn-primary ms-5",attrs:{type:"button",value:"더보기"},on:{click:function(e){return t.$router.push({name:"goldbox"})}}})]),a("div",{staticClass:"main-wrap-container"},t._l(t.goldbox,(function(t,e){return a("CardSV1",{key:e,attrs:{data:t}})})),1)]),a("div",{staticClass:"main-wrap",attrs:{id:"mainMostView"}},[a("div",{staticClass:"main-wrap-title"},[a("h1",[t._v("최다 조회 상품")]),a("input",{staticClass:"btn btn-primary ms-5",attrs:{type:"button",value:"더보기"},on:{click:function(e){return t.$router.push({name:"posts"})}}})]),a("div",{staticClass:"main-wrap-container"},t._l(t.mostView,(function(t,e){return a("router-link",{key:e,staticClass:"card-element",attrs:{tag:"div",to:"detail/"+t._id}},[a("CardLH1",{attrs:{data:t}})],1)})),1)]),a("div",{staticClass:"main-wrap",attrs:{id:"mainLatestPost"}},[a("div",{staticClass:"main-wrap-title"},[a("h1",[t._v("최근 등록")]),a("input",{staticClass:"btn btn-primary ms-5",attrs:{type:"button",value:"더보기"},on:{click:function(e){return t.$router.push({name:"posts"})}}})]),a("div",{staticClass:"main-wrap-container"},t._l(t.latest,(function(t,e){return a("router-link",{key:e,staticClass:"card-element",attrs:{tag:"div",to:"detail/"+t._id}},[a("CardSH1",{attrs:{data:t}})],1)})),1)])])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"carousel-control-prev",attrs:{type:"button","data-bs-target":"#recommendCarousel","data-bs-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"visually-hidden"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"carousel-control-next",attrs:{type:"button","data-bs-target":"#recommendCarousel","data-bs-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"visually-hidden"},[t._v("Next")])])}],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data?a("div",{staticClass:"wooncou-card card-lh1",attrs:{"data-id":""+t.data._id}},[a("div",{staticClass:"card-picture",style:"background-image: url("+t.data.title_image+")"}),a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-title"},[t._v(t._s(t.data.title))]),a("div",{staticClass:"card-text"},[t._v(t._s(t.data.content))]),a("div",{staticClass:"card-tags"},t._l(t.data.tags,(function(e,s){return a("span",{key:s,staticClass:"badge bg-primary mx-1",attrs:{"data-id":""+e._id}},[t._v(t._s(e.tag_name))])})),0)])]):t._e()},M=[],H={name:"CardLH1",props:{data:Object}},N=H,A=(0,d.Z)(N,Z,M,!1,null,null,null),O=A.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},V=[],z={},B=z,j=(0,d.Z)(B,q,V,!1,null,null,null),U=j.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data?a("div",{staticClass:"wooncou-card card-sh1"},[a("div",{staticClass:"card-picture",style:"background-image: url("+t.data.title_image+")"}),a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-title"},[t._v(t._s(t.data.title))]),a("div",{staticClass:"card-text"},[t._v(t._s(t.convertContent()))]),a("div",{staticClass:"card-tags"},t._l(t.data.tags,(function(e,s){return a("span",{key:s,staticClass:"badge bg-primary mx-1",attrs:{"data-id":""+e._id}},[t._v(t._s(e.tag_name))])})),0)])]):t._e()},G=[],Y={name:"CardSH1",props:{data:Object},methods:{convertContent(){let t=document.createElement("div");return t.innerHTML=this.data.content,t.textContent}}},K=Y,X=(0,d.Z)(K,F,G,!1,null,null,null),J=X.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data?a("div",{staticClass:"wooncou-card card-sv1"},[a("a",{attrs:{href:t.data.productUrl,target:"_blank"}},[a("div",{staticClass:"card-picture",style:"background-image: url("+t.data.productImage+")"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-title"},[t._v(" "+t._s(t.data.productName)+" ")]),a("div",{staticClass:"card-content-detail"},[a("div",{staticClass:"card-price"},[t._v("가격 : "+t._s(t.data.productPrice)+"원")]),t.data.isRocket?a("div",[t._v("🚀")]):t._e()])])])])]):t._e()},W=[],tt={name:"CardSV1",props:{data:Object}},et=tt,at=(0,d.Z)(et,Q,W,!1,null,null,null),st=at.exports,it={name:"Home",data(){return{goldbox:null,mostView:null,latest:null}},components:{CardLH1:O,CardLV1:U,CardSH1:J,CardSV1:st},beforeCreate(){this.$axios.get("/api/common/main").then((t=>{this.goldbox=t.data.main.goldbox,this.mostView=t.data.main.mostView,this.latest=t.data.main.latest})).catch((()=>{this.$swal({icon:"error",title:"오류",text:"관리자에게 문의해주세요."})}))}},nt=it,ot=(0,d.Z)(nt,T,D,!1,null,null,null),rt=ot.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.params.search,expression:"params.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"리스트 검색.."},domProps:{value:t.params.search},on:{input:function(e){e.target.composing||t.$set(t.params,"search",e.target.value)}}}),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.getPosts}},[a("i",{staticClass:"bi bi-search"}),t._v(" 검색")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.searchReset}},[t._v("검색 초기화")])]),a("div",{staticClass:"post-tag-container"},[a("div",{staticClass:"tags-wrap"},t._l(t.tagList,(function(e,s){return a("div",{key:s,staticClass:"tag-element-wrap",on:{click:t.onTagClick}},[a("CommonTag",{attrs:{tagName:e.tag_name}})],1)})),0),a("div",{staticClass:"post-list-wrap"},[t._l(t.posts,(function(t,e){return a("router-link",{key:e,attrs:{tag:"div",to:"detail/"+t._id}},[a("CardSH1",{attrs:{data:t}})],1)})),a("infinite-loading",{on:{infinite:t.infiniteHandler}})],2)])])},ct=[],dt=a(306),pt=a.n(dt),ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{class:"tag-item badge rounded-pill "+t.setColor()},[t._v(" "+t._s(t.tagName)+" "),t.isCloseButton?a("a",{attrs:{href:"#"},on:{click:t.remove}},[t._v("  "),a("i",{staticClass:"bi bi-x-circle-fill"})]):t._e()])},mt=[],ht={name:"CommonTag",props:{tagName:String,color:String,isCloseButton:Boolean},methods:{setColor:function(){let t="bg-secondary";switch(this.color){case"primary":t="bg-primary";break;case"secondary":t="bg-secondary";break;case"success":t="bg-success";break;case"info":t="bg-info text-dark";break;case"warning":t="bg-warning text-dark";break;case"danger":t="bg-danger";break;case"light":t="bg-light text-dark";break;case"dark":t="bg-dark";break;default:break}return t},remove:function(t){t.preventDefault(),t.target.closest(".tag-item").remove()}}},gt=ht,vt=(0,d.Z)(gt,ut,mt,!1,null,null,null),ft=vt.exports,_t={name:"PostList",data(){return{posts:null,tagList:null,params:{page:1,search:"",tag:""}}},components:{CardSH1:J,CommonTag:ft,InfiniteLoading:pt()},methods:{onTagClick:function(t){this.params.tag=t.target.innerText,this.getPosts()},getPosts:function(){this.params.page=1,this.$axios.get("api/post",{params:this.params}).then((t=>{this.posts=t.data.posts,this.params.page+=1})).catch((()=>{this.printErrorSwal()}))},searchReset:function(){this.params.search="",this.params.tag=""},printErrorSwal:function(){this.$swal({icon:"error",title:"오류",text:"관리자에게 문의해주세요."})},infiniteHandler:function(t){this.$axios.get("api/post",{params:this.params}).then((({data:e})=>{e.posts.length?(this.params.page+=1,this.posts.push(...e.posts),t.loaded()):t.complete()}))}},beforeCreate(){const t={search:"",tag:"",page:1};this.$route.query.search&&(t.search=this.$route.query.search),this.$route.params.tag&&(t.tag=this.$route.params.tag),this.$axios.get("api/post",t).then((t=>{this.posts=t.data.posts,this.params.page+=1})).catch((()=>{this.printErrorSwal()})),this.$axios.get("/api/tags").then((t=>{t.data.success?this.tagList=t.data.tags:this.$swal({icon:"error",title:"조회 오류.",text:"태그를 가져올수 없습니다."})})).catch((()=>{this.printErrorSwal()}))}},bt=_t,Ct=(0,d.Z)(bt,lt,ct,!1,null,null,null),wt=Ct.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-container"},[t._m(0),a("div",{staticClass:"report-content"},[a("div",{staticClass:"my-3 row"},[a("label",{staticClass:"form-label fw-bold fs-5",attrs:{for:"reportUserName"}},[t._v("이름")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_name,expression:"user_name"}],staticClass:"form-control",attrs:{type:"text",id:"reportUserName",maxlength:"20",placeholder:"이름을 입력하세요.."},domProps:{value:t.user_name},on:{input:function(e){e.target.composing||(t.user_name=e.target.value)}}})]),a("div",{staticClass:"my-3 row"},[a("label",{staticClass:"form-label fw-bold fs-5",attrs:{for:"reportUserEmail"}},[t._v("이메일 (필수)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_email,expression:"user_email"}],staticClass:"form-control",attrs:{type:"email",id:"reportUserEmail",maxlength:"100",placeholder:"이메일 입력하세요.."},domProps:{value:t.user_email},on:{input:function(e){e.target.composing||(t.user_email=e.target.value)}}}),t._m(1),t.isNotEmail?a("div",{staticClass:"form-text text-danger"},[t._v("이메일 형식에 맞게 입력해 주세요.")]):t._e()]),a("div",{staticClass:"my-3 row"},[a("label",{staticClass:"form-label fw-bold fs-5",attrs:{for:"reportTitle"}},[t._v("제목")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"reportTitle",maxlength:"100",placeholder:"제목 입력하세요.."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),a("div",{staticClass:"my-3 row"},[a("label",{staticClass:"form-label fw-bold fs-5",attrs:{for:"reportContent"}},[t._v("내용")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{id:"reportContent",rows:"5",minlength:"5",maxlength:"2000",placeholder:"내용을 입력하세요.."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),a("div",{staticClass:"form-text text-end",attrs:{id:"contentLength"}},[t._v(t._s(t.content.length)+"/2000")])]),a("div",{staticClass:"mt-5 row"},[a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"},on:{click:t.sendReport}},[a("i",{staticClass:"bi bi-send-fill"}),t._v(" 전송하기")])])])])},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-title"},[a("h1",[t._v("문의")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-text",attrs:{id:"emailHelp"}},[a("i",{staticClass:"bi bi-exclamation-triangle-fill"}),t._v(" 이메일을 정확히 입력해 주세요. 문의에 대한 답변이 전송됩니다.")])}],yt={name:"Report",data(){return{user_name:"",user_email:"",title:"",content:"",isNotEmail:!1}},watch:{user_email(){this.user_email&&(this.isNotEmail=!this.$store.getters.REGEX_EMAIL.test(this.user_email))},content(){}},methods:{sendReport(){if(localStorage.getItem("report_date")!==(new Date).toDateString())localStorage.setItem("report_date",(new Date).toDateString()),localStorage.setItem("report_count",0);else{if(!(localStorage.getItem("report_count")<=5))return void this.$swal({icon:"error",title:"문의량이 많습니다.",text:"이미 많은 문의를 주셨습니다.\n다음에 이용해 주세요."});localStorage.setItem("report_count",+localStorage.getItem("report_count")+1)}if(!this.validation())return;let t={user_name:this.user_name.trim(),user_email:this.user_email.trim(),title:this.title.trim(),content:this.content.trim()};for(const e in t)t[e]=this.$sanitize(t[e]);this.$axios.post("/api/report",t).then((t=>{t.data.success?(this.$swal(this.$swalt("success","전송이 완료되었습니다!")),this.user_name="",this.user_email="",this.title="",this.content=""):this.$swal({icon:"error",title:"전송이 실패했습니다.",text:"내용을 다시 확인해 주세요."})})).catch((()=>{this.$swal({icon:"error",title:"오류",text:"관리자에게 문의해주세요."})}))},validation(){return this.user_name?this.user_email?this.isNotEmail?(this.$swal(this.$swalt("error","이메일을 형식에 맞게 입력해 주세요.")),!1):this.title?!!this.content||(this.$swal(this.$swalt("error","내용을 입력해 주세요.")),!1):(this.$swal(this.$swalt("error","제목을 입력해 주세요.")),!1):(this.$swal(this.$swalt("error","이메일을 입력해 주세요.")),!1):(this.$swal(this.$swalt("error","이름을 입력해 주세요.")),!1)}}},$t=yt,Lt=(0,d.Z)($t,xt,kt,!1,null,null,null),It=Lt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"common-title"},[a("h1",[t._v(t._s(t.post.title))])]),t._m(0)])},Pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-container detail-post-container"},[a("div",{staticClass:"ql-editor",attrs:{id:"postContent"}})])}],Et={name:"Detail",data(){return{post:{}}},beforeCreate(){const t=this.$route.params.id;this.$axios.get(`/api/post/${t}`).then((t=>{this.post=t.data.posts,document.getElementById("postContent").innerHTML=this.post.content})).catch((()=>{this.$swal({icon:"error",title:"오류",text:"관리자에게 문의해주세요."})}))}},Rt=Et,Tt=(0,d.Z)(Rt,St,Pt,!1,null,null,null),Dt=Tt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"goldbox-container"},t._l(t.goldbox,(function(t,e){return a("CardSV1",{key:e,attrs:{data:t}})})),1)])},Mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://link.coupang.com/a/lJ6bY",target:"_blank"}},[a("div",{staticClass:"goldbox-title"})])}],Ht={name:"Goldbox",data(){return{goldbox:null}},components:{CardSV1:st},beforeCreate:function(){this.$axios.get("/api/goldbox/list").then((t=>{this.goldbox=t.data.goldbox})).catch((()=>{this.$swal({icon:"error",title:"오류",text:"관리자에게 문의해주세요."})}))}},Nt=Ht,At=(0,d.Z)(Nt,Zt,Mt,!1,null,null,null),Ot=At.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"common-container"},[t.tagList?a("div",{staticClass:"tags-wrap"},t._l(t.tagList,(function(t,e){return a("a",{key:e,attrs:{href:""}},[a("CommonTag",{attrs:{tagName:t.tag_name}})],1)})),0):t._e()])])},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-title"},[a("h1",[t._v("🏷 게시물 태그 목록")]),a("p",{staticClass:"text-muted"},[t._v("게시물의 태그를 이용하여 원하는 상품을 찾을 수 있습니다.")])])}],zt={name:"tags",data(){return{tagList:null}},components:{CommonTag:ft},beforeCreate:function(){this.$axios.get("/api/tags").then((t=>{t.data.success?this.tagList=t.data.tags:this.$swal({icon:"error",title:"조회 오류.",text:"태그를 가져올수 없습니다."})})).catch((()=>{this.$swal({icon:"error",title:"오류",text:"관리자에게 문의해주세요."})}))}},Bt=zt,jt=(0,d.Z)(Bt,qt,Vt,!1,null,null,null),Ut=jt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-signin"},[a("form",[a("h1",{staticClass:"h3 mb-3 page-section-heading text-center"},[t._v("관리자 로그인")]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"floatingInput",placeholder:"name@example.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[t._v("이메일")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pw,expression:"pw"}],staticClass:"form-control",attrs:{type:"password",id:"floatingPassword",placeholder:"Password"},domProps:{value:t.pw},on:{input:function(e){e.target.composing||(t.pw=e.target.value)}}}),a("label",{attrs:{for:"floatingPassword"}},[t._v("비밀번호")])]),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"w-100 mx-1 btn btn-lg btn-primary",attrs:{type:"submit"},on:{click:t.onSubmitHandler}},[t._v("로그인")])])])])},Gt=[],Yt={name:"AdminLogin",data:()=>({email:null,pw:null}),methods:{onSubmitHandler(t){t.preventDefault();const e={email:this.email,password:this.pw};this.$axios.post("/api/users/login",e).then((t=>{200===t.status?t.data.loginSuccess?(localStorage.setItem("accessToken",t.data.userId),localStorage.setItem("userName",t.data.userName),this.$router.push({name:"admin"})):alert(t.data.message):alert("로그인 실패")})).catch((t=>{console.error(t)}))}}},Kt=Yt,Xt=(0,d.Z)(Kt,Ft,Gt,!1,null,null,null),Jt=Xt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-dashbord-container container h-100"},[a("div",{staticClass:"d-flex justify-content-between"},[a("ul",{staticClass:"nav nav-tabs",staticStyle:{width:"calc(100% - 100px)"}},[a("li",{staticClass:"nav-item"},[a("a",{class:"fw-bold nav-link "+(1===t.tabIndex?"active":""),attrs:{href:"#"},on:{click:function(e){t.tabIndex=1}}},[t._v("포스팅")])]),a("li",{staticClass:"nav-item"},[a("a",{class:"fw-bold nav-link "+(2===t.tabIndex?"active":""),attrs:{href:"#"},on:{click:function(e){t.tabIndex=2}}},[t._v("문의")])])]),a("button",{staticClass:"btn btn-sm btn-secondary",on:{click:t.logout}},[a("i",{staticClass:"bi bi-box-arrow-right"}),t._v(" 로그아웃 ")])]),1===t.tabIndex?a("div",{staticClass:"manage-warp row"},[a("div",{staticClass:"manage-container col-4 h-100"},[a("AdminPostList",{on:{sendPostId:t.setSelectedPostId}})],1),a("div",{staticClass:"manage-container col-8 h-100"},[a("AdminPostDetail",{ref:"AdminPostDetail",attrs:{selectedPostId:t.selectedPostId},on:{sendCoupangApiData:t.setCoupangApiSearchData,editPostTags:t.editPostTags}})],1)]):t._e(),2===t.tabIndex?a("div",{staticClass:"manage-warp row"},[a("div",{staticClass:"manage-container col-4 h-100"},[a("AdminReportList",{on:{sendReportId:t.setSelectedReportId}})],1),a("div",{staticClass:"manage-container col-8 h-100"},[a("AdminReportDetail",{attrs:{selectedReportId:t.selectedReportId}})],1)]):t._e(),a("div",[a("AdminPostModal",{ref:"refModal",on:{sendModalHtml:t.setModalHtml}}),a("AdminTagModal",{ref:"refTagModal",on:{sendTags:t.setTags}})],1)])},Wt=[],te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"post-list-container h-100"},[a("div",{staticClass:"post-list-controller bg-secondary text-white"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.newPost}},[a("i",{staticClass:"bi bi-plus"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control form-control-sm",staticStyle:{width:"150px"},attrs:{type:"text",placeholder:"search..."},domProps:{value:t.search},on:{keyup:t.getSearchList,input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"post-list-wrap"},[t._l(t.postList,(function(e,s){return a("div",{key:s,staticClass:"post-element",attrs:{"data-id":""+e._id}},[a("a",{staticStyle:{width:"55%"},attrs:{href:"#"},on:{click:function(a){return t.sendPostId(a,e._id)}}},[t._v(t._s(e.title))]),a("div",{staticStyle:{width:"35%"}},[t._v(t._s(new Date(e.date).toLocaleDateString()))]),a("span",{staticClass:"me-2 text-muted"},[e.temp?a("i",{staticClass:"bi bi-archive-fill"}):t._e()]),a("div",{staticClass:"form-check form-switch",staticStyle:{width:"10%"}},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",role:"switch",id:"deleted-"+e._id},domProps:{checked:t.getPostDeleteCheck(e.deleted)},on:{change:t.setPostDeleteCheck}}),a("label",{staticClass:"form-check-label",attrs:{for:"deleted-"+e._id}})])])})),a("infinite-loading",{on:{infinite:t.infiniteHandler}})],2)])},ee=[],ae={name:"AdminPostList",data:()=>({postList:null,search:"",page:2}),components:{InfiniteLoading:pt()},methods:{getPostDeleteCheck:function(t){return"Y"===t?"checked":""},setPostDeleteCheck:function(t){const e={id:t.target.closest(".post-element").dataset.id,deleted:t.target.checked?"Y":"N"};this.$axios.delete("/api/post",{data:e}).then((t=>{t.data.success&&this.$swal(this.$swalt("success","변경이 완료되었습니다."))})).catch((t=>{console.log(t)}))},getSearchList(t){13===t.keyCode&&(""===this.search?this.$axios.get("/api/admin/post").then((t=>{this.postList=t.data.posts})).catch((t=>{console.log(t)})):this.$axios.get(`/api/admin/post?search=${this.search}`).then((t=>{this.postList=t.data.posts})).catch((t=>{console.log(t)})))},sendPostId:function(t,e){t.preventDefault(),this.$emit("sendPostId",e)},newPost(t){this.$emit("sendPostId",null)},infiniteHandler:function(t){this.$axios.get("/api/admin/post",{params:{page:this.page}}).then((({data:e})=>{e.posts.length?(this.page+=1,this.postList.push(...e.posts),t.loaded()):t.complete()}))}},beforeCreate(){this.$axios.get("/api/admin/post").then((t=>{this.postList=t.data.posts})).catch((t=>{console.log(t)}))}},se=ae,ie=(0,d.Z)(se,te,ee,!1,null,null,null),ne=ie.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"post-detail-container h-100"},[a("div",{staticClass:"post-detail-controller bg-secondary text-white"},[a("div",{staticClass:"input-group coupang-api-controller w-50"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.coupang.type,expression:"coupang.type"}],staticClass:"form-select form-select-sm",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.coupang,"type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"url"}},[t._v("URL")]),a("option",{attrs:{value:"search"}},[t._v("검색")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupang.value,expression:"coupang.value"}],staticClass:"form-control form-control-sm w-50",attrs:{type:"text",placeholder:"쿠팡 파트너스 검색..."},domProps:{value:t.coupang.value},on:{input:function(e){e.target.composing||t.$set(t.coupang,"value",e.target.value)}}}),a("input",{staticClass:"btn btn-sm btn-dark",attrs:{type:"button",value:"검색"},on:{click:function(e){return t.coupangSearch()}}})]),a("div",{staticClass:"btn-group editor-controller",attrs:{role:"group","aria-label":"Basic mixed styles example"}},[a("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"},on:{click:t.addTitleImage}},[a("i",{staticClass:"bi bi-image"}),t._v(" 대표이미지")]),a("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"},on:{click:t.addTag}},[a("i",{staticClass:"bi bi-tag-fill"}),t._v(" 태그")]),a("button",{staticClass:"btn btn-sm btn-warning",attrs:{type:"button"},on:{click:t.postTempSave}},[a("i",{staticClass:"bi bi-save2"}),t._v(" 임시저장")]),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.postSave}},[a("i",{staticClass:"bi bi-send-fill"}),t._v(" 발행")])])]),a("div",{staticClass:"post-detail-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"post-title",attrs:{type:"text",placeholder:"제목을 입력하세요"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}})]),a("div",{staticClass:"post-detail-editor"},[a("quill-editor",{ref:"editor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)}},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}})],1)])},re=[],le={name:"AdminPostDetail",data:()=>({editorOption:{theme:"snow",placeholder:"내용을 입력하세요...",readOnly:!0},post:{id:"",title:"",content:"",author:"",tags:[]},coupang:{type:"url",value:""}}),props:{selectedPostId:String},watch:{selectedPostId(){(!this.post.title&&!this.post.content||confirm("작성중인 글이 모두 지워집니다.\n계속 하시겠습니까?"))&&(this.selectedPostId?this.$axios.get(`/api/admin/post?id=${this.selectedPostId}`).then((t=>{this.post=t.data.posts})).catch((t=>{console.log(t)})):this.post={id:"",title:"",content:"",author:"",tags:[]})}},beforeCreate(){},methods:{onEditorBlur(t){},onEditorFocus(t){},onEditorReady(t){},coupangSearch:function(){const t=new RegExp(/^http\w:\/\//,"ig");"search"===this.coupang.type&&t.test(this.coupang.value)&&(this.coupang.type="url"),this.$emit("sendCoupangApiData",this.coupang)},getModalHtml(t){this.post.content+=t},getTags(t){this.post.tags=t},getPostDate(){return this.post.title=this.$sanitize(this.post.title),this.post.title?!!this.post.content||(this.$swal(this.$swalt("warning","내용을 입력하세요.")),!1):(this.$swal(this.$swalt("warning","제목을 입력하세요.")),!1)},postTempSave(){this.getPostDate()&&(this.post.author=localStorage.getItem("userName"),this.post._id?(this.$axios.put("/api/post/temp",this.post).then((t=>{this.$swal(this.$swalt("success","임시저장 되었습니다."))})),this.$swal(this.$swalt("","")).catch((t=>{console.error(t),this.$swal(this.$swalt("error","임시저장이 실패했습니다."))}))):this.$axios.post("/api/post/temp",this.post).then((t=>{this.$swal(this.$swalt("success","임시저장 되었습니다."))})).catch((t=>{console.error(t),this.$swal(this.$swalt("error","임시저장이 실패했습니다."))})))},postSave(){this.getPostDate()&&(this.post.author=localStorage.getItem("userName"),this.post._id?this.$axios.put("/api/post",this.post).then((t=>{this.$swal(this.$swalt("success","발행 되었습니다."))})).catch((t=>{console.error(t),this.$swal(this.$swalt("error","발행에 실패했습니다."))})):this.$axios.post("/api/post",this.post).then((t=>{this.$swal(this.$swalt("success","발행 되었습니다."))})).catch((t=>{console.error(t),this.$swal(this.$swalt("error","발행에 실패했습니다."))})))},addTag(){this.$emit("editPostTags",this.post.tags)},addTitleImage(){this.$swal({title:"대표이미지 등록",text:"등록할 이미지의 url을 입력하세요.",imageUrl:this.post.title_image,imageHeight:"400px",input:"text",showCancelButton:!0}).then((t=>{if(t.isConfirmed){const e=t.value;this.$swal({title:"이미지 확인",text:"이 이미지가 맞으면 OK를 눌러주세요.",imageUrl:e,imageHeight:"400px",showCancelButton:!0}).then((t=>{t.isConfirmed&&(this.post.title_image=e,this.$swal(this.$swalt("success","반영 되었습니다.")))}))}}))}}},ce=le,de=(0,d.Z)(ce,oe,re,!1,null,null,null),pe=de.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-list-container h-100"},[t._l(t.reportList,(function(e,s){return a("div",{key:s,staticClass:"report-element",attrs:{"data-idx":""+s,"data-id":""+e._id}},[a("a",{staticStyle:{width:"60%"},attrs:{href:"#"},on:{click:function(a){return t.sendReportId(a,e._id)}}},[t._v(t._s(e.title))]),a("div",{staticStyle:{width:"32%"}},[t._v(t._s(new Date(e.report_date).toLocaleDateString()))]),a("div",{staticStyle:{width:"8%"}},[null!==t.reportList[s].complete_date?a("div",[a("i",{staticClass:"bi bi-check-lg"})]):t._e()])])})),a("infinite-loading",{on:{infinite:t.infiniteHandler}})],2)},me=[],he={name:"AdminReportList",data(){return{reportList:null,page:1}},components:{InfiniteLoading:pt()},methods:{sendReportId:function(t,e){t.preventDefault(),this.$emit("sendReportId",e)},infiniteHandler:function(t){this.$axios.get("/api/report",{params:{page:this.page}}).then((({data:e})=>{e.reports.length?(this.page+=1,this.reportList.push(...e.reports),t.loaded()):t.complete()}))}},beforeCreate(){this.$axios.get("/api/report").then((t=>{this.reportList=t.data.reports,this.page+=1})).catch((t=>{console.log(t)}))}},ge=he,ve=(0,d.Z)(ge,ue,me,!1,null,null,null),fe=ve.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-detail-container h-100"},[a("div",{staticClass:"report-title"},[a("div",{staticClass:"d-flex ellipsis",staticStyle:{width:"90%"}},[t._v(" "+t._s(t.title)+" ")]),a("div",{staticClass:"d-flex justify-content-end",staticStyle:{width:"10%"}},[t.isCanComplete?a("input",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",value:"완료"},on:{click:t.completeReport}}):t._e()])]),a("div",{staticClass:"report-content"},[a("div",{staticClass:"report-info d-flex justify-content-between"},[a("div",{staticClass:"report-user"},[a("span",{staticClass:"me-2 badge bg-primary"},[t._v("작성자")]),t._v(t._s(t.userName)+" ")]),a("div",{staticClass:"report-email"},[a("span",{staticClass:"me-2 badge bg-primary"},[t._v("이메일")]),t._v(t._s(t.userEmail)+" ")]),a("div",{staticClass:"report-regdate"},[a("span",{staticClass:"me-2 badge bg-secondary"},[t._v("작성일")]),t._v(t._s(t.reportDate)+" ")]),a("div",{staticClass:"report-compdate"},[a("span",{staticClass:"me-2 badge bg-secondary"},[t._v("완료일")]),t._v(t._s(t.completeDate)+" ")])]),t._v(" "+t._s(t.content)+" ")])])},be=[],Ce={name:"AdminReportDetail",data(){return{title:"",content:"",userName:"",userEmail:"",reportDate:"",completeDate:"",isCanComplete:!1}},props:{selectedReportId:String},watch:{selectedReportId(){this.$axios.get(`/api/report/${this.selectedReportId}`).then((t=>{this.title=t.data.report.title,this.content=t.data.report.content,this.userName=t.data.report.user_name,this.userEmail=t.data.report.user_email,this.reportDate=new Date(t.data.report.report_date).toLocaleString(),this.isCanComplete=null===t.data.report.complete_date,this.completeDate=this.isCanComplete?"----. -. --. -- --:--:--":this.completeDate=new Date(t.data.report.complete_date).toLocaleString()})).catch((t=>{console.log(t)}))}},methods:{completeReport(t){this.$axios.put("/api/report",{id:this.selectedReportId}).then((t=>{t.data.success&&(this.isCanComplete=!1,this.$swal(this.$swalt("success","변경이 완료되었습니다.")))})).catch((t=>{console.log(t)}))}}},we=Ce,xe=(0,d.Z)(we,_e,be,!1,null,null,null),ke=xe.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.modalOpen?a("div",{staticClass:"modal",staticStyle:{display:"block"},attrs:{tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.modalTitle))]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.closeModal}})]),a("div",{staticClass:"modal-body"},[null!==t.deeplinkItem?a("div",{staticClass:"deeplink ql-editor",attrs:{id:"deeplink"}},[a("p",{staticClass:"ql-align-center"},[a("a",{attrs:{href:""+t.deeplinkItem.link,target:"_blank"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:""+t.deeplinkItem.images[0]}})])]),a("p",{staticClass:"ql-align-center"},[a("a",{staticClass:"ql-size-large",staticStyle:{color:"rgb(102, 185, 102)"},attrs:{href:""+t.deeplinkItem.link,target:"_blank"}},[a("strong",[t._v(t._s(t.deeplinkItem.title))])])]),a("p",{staticClass:"ql-align-center"},["%"!==t.deeplinkItem.discountRate?a("s",{staticClass:"ql-size-large",staticStyle:{color:"rgb(136, 136, 136)"}},[t._v(t._s(t.deeplinkItem.originPrice))]):t._e(),"%"!==t.deeplinkItem.discountRate?a("span",{staticClass:"ql-size-large",staticStyle:{color:"rgb(136, 136, 136)"}},[t._v(" ("+t._s(t.deeplinkItem.discountRate)+") ")]):t._e(),"%"!==t.deeplinkItem.discountRate?a("span",{staticClass:"ql-size-large"},[t._v("▶")]):t._e(),t._v(" "),a("strong",{staticClass:"ql-size-large"},[t._v(t._s(t.deeplinkItem.totalPrice))])]),a("p",{staticClass:"ql-align-center"},[+t.deeplinkItem.starRating.replace("%","")>=20?a("span",[t._v("⭐")]):t._e(),+t.deeplinkItem.starRating.replace("%","")>=40?a("span",[t._v("⭐")]):t._e(),+t.deeplinkItem.starRating.replace("%","")>=60?a("span",[t._v("⭐")]):t._e(),+t.deeplinkItem.starRating.replace("%","")>=80?a("span",[t._v("⭐")]):t._e(),+t.deeplinkItem.starRating.replace("%","")>=100?a("span",[t._v("⭐")]):t._e(),+t.deeplinkItem.count.replace(/\D/g,"")>0?a("strong",[t._v(" "+t._s(t.deeplinkItem.count))]):t._e(),+t.deeplinkItem.count.replace(/\D/g,"")<=0?a("strong",[t._v(" 상품평 없음.")]):t._e()])]):t._e(),null!==t.searchRankingItems?a("div",{staticClass:"search-ranking",attrs:{id:"searchRanking"}},[a("div",{staticClass:"rank-summary",attrs:{id:"nonePostData"}},t._l(t.searchRankingItems,(function(e,s){return a("div",{key:s,staticClass:"rank-summary-item"},[a("div",{staticClass:"rank-summary-item-rank"},[t._v(t._s(e.rank))]),a("a",{attrs:{href:""+e.productUrl,target:"_blank"}},[a("img",{attrs:{src:e.productImage,alt:e.productName}})]),a("a",{attrs:{href:""+e.productUrl,target:"_blank"}},[a("span",{staticClass:"fs-6"},[t._v(t._s(e.productName))])]),a("span",{staticClass:"fs-5 fw-bold"},[t._v(t._s(e.productPrice?parseInt(e.productPrice).toLocaleString("ko-KR"):0)+"원")])])})),0),a("div",{staticClass:"post-data ql-editor",attrs:{id:"postData"}},t._l(t.searchRankingItems,(function(e,s){return a("div",{key:s,staticClass:"ranking-post-item"},[a("p",{staticClass:"ql-align-center"},[a("a",{attrs:{href:""+e.productUrl,target:"_blank"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:""+e.productImage}})])]),a("p",{staticClass:"ql-align-center"},[a("a",{staticClass:"ql-size-large",staticStyle:{color:"rgb(102, 185, 102)"},attrs:{href:""+e.productUrl,target:"_blank"}},[a("strong",[t._v(t._s(e.rank)+". "+t._s(e.productName))])])]),a("p",{staticClass:"ql-align-center"},["%"!==e.extends.discountRate?a("s",{staticClass:"ql-size-large",staticStyle:{color:"rgb(136, 136, 136)"}},[t._v(t._s(e.extends.originPrice))]):t._e(),"%"!==e.extends.discountRate?a("span",{staticClass:"ql-size-large",staticStyle:{color:"rgb(136, 136, 136)"}},[t._v(" ("+t._s(e.extends.discountRate)+") ")]):t._e(),"%"!==e.extends.discountRate?a("span",{staticClass:"ql-size-large"},[t._v("▶")]):t._e(),t._v(" "),a("strong",{staticClass:"ql-size-large"},[t._v(t._s(e.extends.totalPrice))])]),a("p",{staticClass:"ql-align-center"},[+e.extends.starRating.replace("%","")>=20?a("span",[t._v("⭐")]):t._e(),+e.extends.starRating.replace("%","")>=40?a("span",[t._v("⭐")]):t._e(),+e.extends.starRating.replace("%","")>=60?a("span",[t._v("⭐")]):t._e(),+e.extends.starRating.replace("%","")>=80?a("span",[t._v("⭐")]):t._e(),+e.extends.starRating.replace("%","")>=100?a("span",[t._v("⭐")]):t._e(),+e.extends.count.replace(/\D/g,"")>0?a("strong",[t._v(" "+t._s(e.extends.count))]):t._e(),+e.extends.count.replace(/\D/g,"")<=0?a("strong",[t._v(" 상품평 없음.")]):t._e()]),t._m(0,!0)])})),0)]):t._e()]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:t.closeModal}},[t._v("취소")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.pasteDateInPost}},[t._v("포스트에 추가")])])])])]):t._e()},$e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("br"),a("br"),a("br")])}],Le={data(){return{modalOpen:!1,modalTitle:"",deeplinkItem:null,searchRankingItems:null,sendHtml:null}},props:{},methods:{searchCoupangData:function(t){this.$store.commit("onLoading"),t.type&&t.value||this.$swal(this.$swalt("error","입력값이 잘못되었습니다.")),"search"===t.type?(this.modalTitle="랭킹 검색",this.getSearchRanking(t.value)):"url"===t.type&&(this.modalTitle="딥링크 생성",this.getDeeplink(t.value))},getDeeplink:function(t){const e={url:t};this.$axios.post("/api/coupang/deeplink",e).then((t=>{if(!t.data.success)return this.$swal(this.$swalt("error",t.data.message)),void this.$store.commit("offLoading");this.deeplinkItem=t.data.data,this.modalOpen=!0,this.$store.commit("offLoading")})).catch((t=>{console.log(t)}))},getSearchRanking:function(t){this.$axios.get(`/api/coupang/search?keyword=${t}`).then((t=>{if(!t.data.success)return this.$swal(this.$swalt("error",t.data.message)),void this.$store.commit("offLoading");this.searchRankingItems=t.data.data.data.productData,this.modalOpen=!0,this.$store.commit("offLoading")})).catch((t=>{console.log(t)}))},closeModal:function(){this.modalTitle="",this.deeplinkItem=null,this.searchRankingItems=null,this.sendHtml=null,this.modalOpen=!1},pasteDateInPost:function(){if(null!==this.deeplinkItem&&(this.sendHtml=document.getElementById("deeplink").innerHTML),null!==this.searchRankingItems){let t="";const e=document.querySelectorAll("#searchRanking > #postData > .ranking-post-item");e.forEach((e=>{t+=e.innerHTML})),this.sendHtml=t}this.$emit("sendModalHtml",this.sendHtml),this.closeModal()}}},Ie=Le,Se=(0,d.Z)(Ie,ye,$e,!1,null,null,null),Pe=Se.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.modalOpen?a("div",{staticClass:"modal",staticStyle:{display:"block"},attrs:{tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),a("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.closeModal}})]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"tag-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tagInputValue,expression:"tagInputValue"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"추가할 태그를 입력하세요...."},domProps:{value:t.tagInputValue},on:{keyup:t.insertTag,input:function(e){e.target.composing||(t.tagInputValue=e.target.value)}}})]),t._m(1),a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"tags-container"},t._l(t.tags,(function(e,s){return a("span",{key:s,staticClass:"tag-item badge rounded-pill bg-primary",attrs:{"data-id":""+e._id},on:{click:t.addTag}},[t._v(" "+t._s(e.tag_name)+" ")])})),0),a("div",{staticClass:"tags-container",attrs:{id:"importedTags"}},t._l(t.importTags,(function(e,s){return a("span",{key:s,staticClass:"tag-item badge rounded-pill bg-secondary",attrs:{"data-id":""+e._id}},[t._v(" "+t._s(e.tag_name)+" "),a("a",{attrs:{href:"#"},on:{click:t.removeTag}},[a("i",{staticClass:"bi bi-x-circle-fill"})])])})),0)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("취소")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveTags}},[t._v("태그 저장")])])])])]):t._e()},Re=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("i",{staticClass:"bi bi-tags-fill"}),t._v(" 태그 편집")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"badge bg-primary text-wrap"},[a("i",{staticClass:"bi bi-tags"}),t._v(" 전체 태그")]),a("div",{staticClass:"badge bg-secondary text-wrap"},[a("i",{staticClass:"bi bi-tag-fill"}),t._v(" 포스트에 포함된 태그")])])}],Te={data(){return{modalOpen:!1,tags:[],importTags:[],tagInputValue:""}},methods:{openModal:function(t){this.importTags=t,this.getTagList(),this.modalOpen=!0},closeModal:function(){this.tagInputValue="",this.tags=[],this.importTags=[],this.modalOpen=!1},getTagList:function(){this.$axios.get("/api/tags").then((t=>{t.data.success?this.tags=t.data.tags:this.$swal(this.$swalt("error",t.data.message))})).catch((t=>{console.log(t)}))},insertTag:function(t){if(13===t.keyCode){const t={tag_name:this.tagInputValue};this.$axios.post("/api/tags",t).then((t=>{t.data.message?this.$swal(this.$swalt("error",t.data.message)):(this.$swal(this.$swalt("success","태그가 추가 되었습니다.")),this.tagInputValue="",this.getTagList(),scroll)})).catch((t=>{console.log(t)}))}},addTag:function(t){const e={_id:t.target.dataset.id,tag_name:t.target.innerText};this.importTags.find((e=>e._id===t.target.dataset.id))||this.importTags.push(e)},removeTag:function(t){this.importTags=this.importTags.filter((e=>e._id!==t.target.closest(".tag-item").dataset.id))},saveTags:function(){this.$emit("sendTags",this.importTags),this.closeModal()}}},De=Te,Ze=(0,d.Z)(De,Ee,Re,!1,null,null,null),Me=Ze.exports,He={name:"AdminDashBoard",data(){return{tabIndex:1,selectedPostId:null,selectedReportId:null,modalHtml:null}},methods:{setSelectedPostId(t){this.selectedPostId=t},setSelectedReportId(t){this.selectedReportId=t},setCoupangApiSearchData(t){t.value?this.$refs.refModal.searchCoupangData(t):this.$swal(this.$swalt("warning","내용을 입력하세요."))},setModalHtml(t){this.modalHtml=t,this.$refs.AdminPostDetail.getModalHtml(t),this.modalHtml=null},editPostTags(t){this.$refs.refTagModal.openModal(t)},setTags(t){this.$refs.AdminPostDetail.getTags(t)},logout(){this.$router.push({name:"adminLogout"})}},components:{AdminPostList:ne,AdminPostDetail:pe,AdminReportList:fe,AdminReportDetail:ke,AdminPostModal:Pe,AdminTagModal:Me}},Ne=He,Ae=(0,d.Z)(Ne,Qt,Wt,!1,null,null,null),Oe=Ae.exports,qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-page-bg"},[a("svg",{attrs:{width:"380px",height:"500px",viewBox:"0 0 837 1045",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns"}},[a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","sketch:type":"MSPage"}},[a("path",{attrs:{d:"M353,9 L626.664028,170 L626.664028,487 L353,642 L79.3359724,487 L79.3359724,170 L353,9 Z",id:"Polygon-1",stroke:"#007FB2","stroke-width":"6","sketch:type":"MSShapeGroup"}}),a("path",{attrs:{d:"M78.5,529 L147,569.186414 L147,648.311216 L78.5,687 L10,648.311216 L10,569.186414 L78.5,529 Z",id:"Polygon-2",stroke:"#EF4A5B","stroke-width":"6","sketch:type":"MSShapeGroup"}}),a("path",{attrs:{d:"M773,186 L827,217.538705 L827,279.636651 L773,310 L719,279.636651 L719,217.538705 L773,186 Z",id:"Polygon-3",stroke:"#795D9C","stroke-width":"6","sketch:type":"MSShapeGroup"}}),a("path",{attrs:{d:"M639,529 L773,607.846761 L773,763.091627 L639,839 L505,763.091627 L505,607.846761 L639,529 Z",id:"Polygon-4",stroke:"#F2773F","stroke-width":"6","sketch:type":"MSShapeGroup"}}),a("path",{attrs:{d:"M281,801 L383,861.025276 L383,979.21169 L281,1037 L179,979.21169 L179,861.025276 L281,801 Z",id:"Polygon-5",stroke:"#36B455","stroke-width":"6","sketch:type":"MSShapeGroup"}})])]),a("div",{staticClass:"message-box"},[a("h1",[t._v("페이지를 찾을 수 없습니다.")]),t._m(0),a("div",{staticClass:"buttons-con"},[a("div",{staticClass:"action-link-wrap"},[a("a",{staticClass:"link-button link-back-button",on:{click:function(e){return t.$router.go(-1)}}},[t._v("뒤로가기")]),a("a",{staticClass:"link-button",on:{click:function(e){return t.$router.push("/")}}},[t._v("홈페이지로 돌아가기")])])])])])},Ve=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" 방문하시려는 페이지의 주소가 잘못 입력되었거나,"),a("br"),t._v(" 페이지의 주소가 변경 혹은 삭제되어 요청하신 페이지를 찾을 수 없습니다. ")])}],ze={},Be=ze,je=(0,d.Z)(Be,qe,Ve,!1,null,null,null),Ue=je.exports;s.Z.use(P.Z);const Fe=[{path:"/",name:"home",component:rt},{path:"/admin/login",name:"adminLogin",component:Jt},{path:"/",name:"adminLogout",beforeEnter:async function(t,e,a){R().get("/api/users/logout").then((t=>{200===t.status&&(localStorage.removeItem("accessToken"),a({path:"/"}))})).catch((t=>{console.error(t),a({path:"/"})}))}},{path:"/admin/dashboard",name:"admin",component:Oe,beforeEnter:async function(t,e,a){Ye(a)}},{path:"/report",name:"report",component:It},{path:"/posts/:tag*",name:"posts",component:wt},{path:"/detail/:id",name:"detail",component:Dt},{path:"/tags",name:"tags",component:Ut},{path:"/goldbox",name:"goldbox",component:Ot},{path:"/:pathMatch(.*)*",name:"notFound",component:Ue}],Ge=new P.Z({mode:"history",base:"/",routes:Fe});function Ye(t){const e=localStorage.getItem("accessToken");R().get("/api/users/auth").then((a=>{200===a.status&&a.data._id===e?t():(Ke(),t({path:"/admin/login"}))})).catch((e=>{t({path:"/admin/login"})}))}function Ke(){alert("로그아웃 되었습니다. 로그인 하세요.")}var Xe=Ge,Je=a(629);s.Z.use(Je.ZP);var Qe=new Je.ZP.Store({state:{isLoading:!1,constants:{regex:{email:/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,}$/i}}},getters:{REGEX_EMAIL:t=>t.constants.regex.email},mutations:{onLoading(t){t.isLoading=!0},offLoading(t){t.isLoading=!1}},actions:{},modules:{}}),We=a(5577),ta=a.n(We),ea=a(1629),aa=a.n(ea),sa=a(1036),ia=a.n(sa),na=a(3982),oa=a.n(na),ra={install(t,e){t.prototype.$swalt=function(t,e){const a={title:e,icon:t,toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0};return a}}};R().defaults.baseURL="https://wooncou-adi.herokuapp.com",s.Z.use(ta()),s.Z.prototype.$axios=R(),s.Z.prototype.$sanitize=ia(),s.Z.use(aa()),s.Z.use(oa()),s.Z.use(pt()),s.Z.use(ra),s.Z.config.productionTip=!1,new s.Z({router:Xe,store:Qe,render:t=>t(S)}).$mount("#app")},2868:function(){},4777:function(){},9830:function(){},209:function(){},7414:function(){}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,n){if(!s){var o=1/0;for(d=0;d<t.length;d++){s=t[d][0],i=t[d][1],n=t[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[s,i,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={826:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,n,o=s[0],r=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var d=l(a)}for(e&&e(s);c<o.length;c++)n=o[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},s=self["webpackChunkwooncou_client_server"]=self["webpackChunkwooncou_client_server"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6547)}));s=a.O(s)})();
//# sourceMappingURL=index.edb18178.js.map